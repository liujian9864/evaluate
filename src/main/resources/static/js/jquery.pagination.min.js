/*!
 * jQuery.pagination.js 插件
 * @version v0.1.5
 * @author  unclekeith
 * 调用方法： $('selector').pagination();
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],function(c){return b(c,a,a.document,a.Math)})}else{if(typeof exports==="object"&&exports){module.exports=b($,a,a.document,a.Math)}else{b(jQuery,a,a.document,a.Math)}}})(typeof window!=="undefined"?window:this,function(d,b,a,c,f){var e={count:2,pageTotal:8,pageStart:6,prevCount:2,commonCls:"pg-common",currContentCls:"pg-on",prevContent:"<",prevContentCls:"pg-prev",nextContent:">",nextContentCls:"pg-next",totalContentCls:"pg-totalWrapper",totalNumCls:"pg-totalNum",jumpToPageCls:"pg-jumpWrapper",jumpNum:"pg-jumpNum",current:1,jumpBtnContent:"确定",jumpBtnCls:"pg-jumpBtn",callback:function(){},render:function(){}};function g(n,j){var m=d(n),i,l=this,h="",k='<span class="'+j.commonCls+'">...</span>';this.getPageCount=function(){return j.pageTotal};this.setPageTotal=function(o){return j.pageTotal=o};this.getCurrent=function(){return j.current};this.setPage=function(q){var s="",u=q||j.current,t=j.count,v=1,o=5,p="";j.current=q||1;if(j.current>j.pageTotal||j.prevCount>=j.pageTotal||j.pageStart>=j.pageTotal||j.pageStart+j.count>j.pageTotal){s+="请设置正确的pagination参数";m.html(s);return}if(u===1){s+='<span class="'+j.prevContentCls+" "+j.commonCls+'">'+j.prevContent+"</span>"}else{s+='<a href="javascript:;" class="'+j.prevContentCls+" "+j.commonCls+'">'+j.prevContent+"</a>"}if(u<j.pageStart&&o-u<2){o=u+2}else{if(u>=j.pageStart&&u<=j.pageTotal){o=u+j.count<=j.pageTotal?u+j.count:j.pageTotal;v=o===j.pageTotal&&j.pageTotal-u<j.count?j.pageTotal-j.count*2:u-j.count;for(var r=0;r<j.prevCount;r++){p+='<a href="javascript:;" class="'+j.commonCls+'" data-page="'+(r+1)+'">'+(r+1)+"</a>"}s+=p+k}}for(;v<=o;v++){if(v===u){s+='<span class="'+j.commonCls+" "+j.currContentCls+'" data-page="'+v+'">'+v+"</span>"}else{s+='<a href="javascript:;" class="'+j.commonCls+'" data-page="'+v+'">'+v+"</a>"}}if(j.pageTotal>o){s+=k}if(u===j.pageTotal){s+='<span class="'+j.nextContentCls+" "+j.commonCls+'">'+j.nextContent+"</span>"}else{s+='<a href="javascript:;" class="'+j.nextContentCls+" "+j.commonCls+'">'+j.nextContent+"</a>"}s+='<span class="'+j.totalContentCls+'">共<span class="'+j.totalNumCls+'">'+j.pageTotal+"</span>页，</span>";s+='<span class="'+j.jumpToPageCls+'">到第<input type="text" class="'+j.jumpNum+'" />页</span>';s+='<input type="button" value="'+j.jumpBtnContent+'" class="'+j.jumpBtnCls+'" />';m.html(s);j.render();typeof j.callback==="function"&&j.callback(l)};this.eventBind=function(){m.on("click","a."+j.commonCls,function(){if(d(this).hasClass(""+j.nextContentCls+"")){i=l.getCurrent()+1}else{if(d(this).hasClass(""+j.prevContentCls+"")){i=l.getCurrent()-1}else{i=+d(this).data("page")}}l.setPage(i)});m.on("input keydown","."+j.jumpNum,function(p){var q=d(this);if(p.type==="input"){var o=/([^\d]+)/g,r=d(this).val();if(o.test(r)){q.val(r.replace(o,""))}+q.val()>j.pageTotal&&q.val(j.pageTotal);if(q.val()==="0"){q.val(1)}}else{if(p.keyCode===13){setTimeout(function(){var s=+q.val();s!==l.getCurrent()&&l.setPage(s)},0)}}});m.on("click","."+j.jumpBtnCls,function(){setTimeout(function(){var o=+(d("."+j.jumpNum).val());o!==+d("."+j.currContentCls).text()&&l.setPage(o)},0)})};this.init=function(){this.setPage();this.eventBind()};this.init()}d.fn.pagination=function(i){var h=d.extend({},e,i);return this.each(function(){new g(this,h)})}});